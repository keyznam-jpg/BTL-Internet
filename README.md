# Há»‡ Thá»‘ng Quáº£n LÃ½ KhÃ¡ch Sáº¡n PTIT

## ğŸ“‹ MÃ´ táº£ dá»± Ã¡n

ÄÃ¢y lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ khÃ¡ch sáº¡n toÃ n diá»‡n Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng Python Flask, cho phÃ©p quáº£n lÃ½ hiá»‡u quáº£ táº¥t cáº£ cÃ¡c hoáº¡t Ä‘á»™ng hÃ ng ngÃ y cá»§a khÃ¡ch sáº¡n. Há»‡ thá»‘ng há»— trá»£ cáº£ giao diá»‡n web cho nhÃ¢n viÃªn quáº£n lÃ½ vÃ  khÃ¡ch hÃ ng Ä‘áº·t phÃ²ng online, vá»›i cÃ¡c tÃ­nh nÄƒng hiá»‡n Ä‘áº¡i nhÆ° chat real-time, thanh toÃ¡n QR, email tá»± Ä‘á»™ng vÃ  bÃ¡o cÃ¡o thá»‘ng kÃª.

Há»‡ thá»‘ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ Ä‘Ã¡p á»©ng nhu cáº§u cá»§a cÃ¡c khÃ¡ch sáº¡n tá»« nhá» Ä‘áº¿n lá»›n, vá»›i giao diá»‡n thÃ¢n thiá»‡n, báº£o máº­t cao vÃ  kháº£ nÄƒng má»Ÿ rá»™ng tá»‘t.

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

### ğŸ¨ Quáº£n lÃ½ phÃ²ng
- **SÆ¡ Ä‘á»“ phÃ²ng trá»±c quan**: Hiá»ƒn thá»‹ tráº¡ng thÃ¡i phÃ²ng real-time vá»›i mÃ u sáº¯c phÃ¢n biá»‡t
- **PhÃ¢n loáº¡i phÃ²ng**: 4 loáº¡i phÃ²ng (TiÃªu chuáº©n, Superior, Deluxe, Suite) vá»›i giÃ¡ khÃ¡c nhau
- **Theo dÃµi tráº¡ng thÃ¡i**: Trá»‘ng, Ä‘Ã£ Ä‘áº·t, Ä‘ang á»Ÿ, quÃ¡ giá»
- **Quáº£n lÃ½ sá»‘ lÆ°á»£ng**: Há»— trá»£ tá»« 1-5 ngÆ°á»i/phÃ²ng

### ğŸ“… Äáº·t phÃ²ng
- **Äáº·t phÃ²ng offline**: NhÃ¢n viÃªn Ä‘áº·t cho khÃ¡ch táº¡i quáº§y
- **Äáº·t phÃ²ng online**: KhÃ¡ch hÃ ng tá»± Ä‘áº·t qua website
- **Há»— trá»£ thuÃª theo**: NgÃ y hoáº·c giá» linh hoáº¡t
- **Tiá»n cá»c tá»± Ä‘á»™ng**: 30% giÃ¡ phÃ²ng, cÃ³ thá»ƒ Ä‘iá»u chá»‰nh

### ğŸ’³ Thanh toÃ¡n
- **PhÆ°Æ¡ng thá»©c Ä‘a dáº¡ng**: Tiá»n máº·t hoáº·c chuyá»ƒn khoáº£n QR (VietQR)
- **QR code tÃ­ch há»£p**: Táº¡o QR tá»± Ä‘á»™ng cho thanh toÃ¡n online
- **Session báº£o máº­t**: Timeout 5 phÃºt, trÃ¡nh tháº¥t thoÃ¡t
- **XÃ¡c nháº­n tá»± Ä‘á»™ng**: Kiá»ƒm tra thanh toÃ¡n vÃ  cáº­p nháº­t tráº¡ng thÃ¡i

### ğŸ›ï¸ Dá»‹ch vá»¥ bá»• sung
- **Danh má»¥c dá»‹ch vá»¥**: Ä‚n uá»‘ng, giáº·t á»§i, spa, dá»‹ch vá»¥ khÃ¡c
- **Äáº·t dá»‹ch vá»¥ trong phÃ²ng**: TÃ­ch há»£p vá»›i booking
- **Thanh toÃ¡n riÃªng biá»‡t**: Quáº£n lÃ½ chi phÃ­ dá»‹ch vá»¥ Ä‘á»™c láº­p
- **BÃ¡o cÃ¡o chi tiáº¿t**: Theo dÃµi doanh thu tá»« dá»‹ch vá»¥

### ğŸ’¬ Giao tiáº¿p khÃ¡ch hÃ ng
- **Chat real-time**: WebSocket cho giao tiáº¿p tá»©c thá»i
- **Upload file**: Há»— trá»£ áº£nh, tÃ i liá»‡u, video trong chat
- **QR chat trong phÃ²ng**: KhÃ¡ch quÃ©t QR Ä‘á»ƒ chat vá»›i nhÃ¢n viÃªn
- **Lá»‹ch sá»­ tin nháº¯n**: LÆ°u trá»¯ vÃ  quáº£n lÃ½ cuá»™c há»™i thoáº¡i

### ğŸ“§ Email tá»± Ä‘á»™ng
- **Template email**: HTML responsive vá»›i thiáº¿t káº¿ Ä‘áº¹p
- **Gá»­i tá»± Ä‘á»™ng**: ThÃ´ng bÃ¡o tráº¡ng thÃ¡i booking, check-in/out
- **Cáº¥u hÃ¬nh SMTP**: Há»— trá»£ Gmail, Outlook, custom server
- **Lá»‹ch sá»­ gá»­i**: Theo dÃµi vÃ  quáº£n lÃ½ email Ä‘Ã£ gá»­i

### ğŸ« Voucher & khuyáº¿n mÃ£i
- **Táº¡o voucher tá»± Ä‘á»™ng**: Cho khÃ¡ch hÃ ng sau check-out
- **Cáº¥u hÃ¬nh tá»· lá»‡ giáº£m**: 10% máº·c Ä‘á»‹nh, cÃ³ thá»ƒ tÃ¹y chá»‰nh
- **Thá»i háº¡n sá»­ dá»¥ng**: 60 ngÃ y máº·c Ä‘á»‹nh
- **Quáº£n lÃ½ voucher**: Theo dÃµi sá»­ dá»¥ng vÃ  hiá»‡u quáº£

### ğŸ‘¥ Quáº£n lÃ½ nhÃ¢n viÃªn
- **PhÃ¢n quyá»n**: Admin vÃ  nhÃ¢n viÃªn vá»›i quyá»n háº¡n khÃ¡c nhau
- **Cháº¥m cÃ´ng**: HÃ ng ngÃ y vá»›i phÃª duyá»‡t cá»§a admin
- **Quáº£n lÃ½ lÆ°Æ¡ng**: CÆ¡ báº£n + phá»¥ cáº¥p + thÆ°á»Ÿng theo doanh thu
- **ThÃ´ng tin cÃ¡ nhÃ¢n**: Avatar, thÃ´ng tin liÃªn há»‡

### ğŸ“Š Thá»‘ng kÃª & bÃ¡o cÃ¡o
- **Dashboard tá»•ng quan**: Chá»‰ sá»‘ chÃ­nh (check-in/out, phÃ²ng trá»‘ng, tin nháº¯n)
- **Thá»‘ng kÃª doanh thu**: Theo thÃ¡ng/nÄƒm vá»›i biá»ƒu Ä‘á»“
- **BÃ¡o cÃ¡o khÃ¡ch hÃ ng**: PhÃ¢n tÃ­ch hÃ nh vi khÃ¡ch
- **Xuáº¥t bÃ¡o cÃ¡o**: Excel/PDF vá»›i dá»¯ liá»‡u chi tiáº¿t

### âš™ï¸ Cáº¥u hÃ¬nh há»‡ thá»‘ng
- **Email SMTP**: Cáº¥u hÃ¬nh server gá»­i email
- **ThÃ´ng sá»‘ voucher**: Tá»· lá»‡ giáº£m giÃ¡, thá»i háº¡n
- **LÆ°Æ¡ng thÆ°á»Ÿng**: Cáº¥u hÃ¬nh thÆ°á»Ÿng theo má»©c doanh thu
- **CÃ i Ä‘áº·t chung**: ThÃ´ng tin khÃ¡ch sáº¡n, logo

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
- **Python 3.8+**: NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh
- **Flask 3.0.0**: Web framework nháº¹ vÃ  linh hoáº¡t
- **Flask-SQLAlchemy 3.1.1**: ORM cho database vá»›i query optimization
- **Flask-Login 0.6.3**: Quáº£n lÃ½ authentication vÃ  session
- **Flask-SocketIO**: Real-time communication cho chat
- **Flask-Caching 2.1.0**: Caching Ä‘á»ƒ tá»‘i Æ°u hiá»‡u suáº¥t
- **Flask-Compress 1.13**: NÃ©n HTTP response
- **Flask-Migrate 4.0.5**: Database migrations

### Database
- **MySQL 5.7+**: Database chÃ­nh vá»›i PyMySQL driver
- **Connection Pooling**: 10 connections + 20 overflow
- **Schema tá»‘i Æ°u**: 15 báº£ng vá»›i indexes vÃ  constraints

### Frontend
- **HTML5**: Semantic markup
- **CSS3**: Responsive design vá»›i custom styles
- **JavaScript**: ES6+ vá»›i DOM manipulation
- **Font Awesome 6.4.0**: Icon library
- **FullCalendar**: Lá»‹ch Ä‘áº·t phÃ²ng interactive

### ThÆ° viá»‡n bá»• sung
- **pandas**: Xá»­ lÃ½ dá»¯ liá»‡u cho bÃ¡o cÃ¡o
- **openpyxl**: Xuáº¥t Excel
- **reportlab**: Táº¡o PDF
- **APScheduler**: Background jobs
- **qrcode[pil]**: Táº¡o QR code
- **python-dotenv**: Quáº£n lÃ½ environment variables
- **email**: Gá»­i email vá»›i MIME support

## ğŸ“¸ áº¢nh chá»¥p demo dá»± Ã¡n

### 1. Trang Ä‘Äƒng nháº­p
![Trang Ä‘Äƒng nháº­p](screenshots/login.png)
*Giao diá»‡n Ä‘Äƒng nháº­p vá»›i form validation vÃ  responsive design*

### 2. Dashboard tá»•ng quan
![Dashboard](screenshots/dashboard.png)
*Trang chá»§ hiá»ƒn thá»‹ cÃ¡c thá»‘ng kÃª chÃ­nh: check-in/out hÃ´m nay, phÃ²ng cÃ³ khÃ¡ch, tin nháº¯n má»›i*

### 3. SÆ¡ Ä‘á»“ phÃ²ng
![SÆ¡ Ä‘á»“ phÃ²ng](screenshots/room_map.png)
*Hiá»ƒn thá»‹ trá»±c quan tráº¡ng thÃ¡i táº¥t cáº£ phÃ²ng vá»›i mÃ u sáº¯c phÃ¢n biá»‡t*

### 4. Äáº·t phÃ²ng offline
![Äáº·t phÃ²ng](screenshots/booking.png)
*Form Ä‘áº·t phÃ²ng vá»›i calendar picker vÃ  tÃ­nh tiá»n tá»± Ä‘á»™ng*

### 5. Äáº·t phÃ²ng online
![Äáº·t phÃ²ng online](screenshots/online_booking.png)
*Giao diá»‡n khÃ¡ch hÃ ng tá»± Ä‘áº·t phÃ²ng vá»›i QR thanh toÃ¡n*

### 6. Chat real-time
![Chat](screenshots/chat.png)
*Giao diá»‡n chat giá»¯a khÃ¡ch hÃ ng vÃ  nhÃ¢n viÃªn vá»›i upload file*

### 7. Quáº£n lÃ½ nhÃ¢n viÃªn
![NhÃ¢n viÃªn](screenshots/employees.png)
*Danh sÃ¡ch nhÃ¢n viÃªn vá»›i thÃ´ng tin chi tiáº¿t vÃ  chá»©c nÄƒng cháº¥m cÃ´ng*

### 8. Thá»‘ng kÃª doanh thu
![Thá»‘ng kÃª](screenshots/statistics.png)
*Biá»ƒu Ä‘á»“ doanh thu theo thÃ¡ng vá»›i kháº£ nÄƒng xuáº¥t bÃ¡o cÃ¡o*

### 9. Cháº¥m cÃ´ng
![Cháº¥m cÃ´ng](screenshots/chamcong.png)
*Giao diá»‡n cháº¥m cÃ´ng hÃ ng ngÃ y cho nhÃ¢n viÃªn*

### 10. PhÃª duyá»‡t cháº¥m cÃ´ng
![PhÃª duyá»‡t cháº¥m cÃ´ng](screenshots/pheduyetchamcong.png)
*Admin phÃª duyá»‡t cÃ¡c yÃªu cáº§u cháº¥m cÃ´ng cá»§a nhÃ¢n viÃªn*

### 11. Äáº·t phÃ²ng online chá» xÃ¡c nháº­n
![Äáº·t phÃ²ng online chá» xÃ¡c nháº­n](screenshots/datphongonlinechoxacnhan.png)
*Danh sÃ¡ch cÃ¡c booking online Ä‘ang chá» xÃ¡c nháº­n tá»« admin*

### 12. Quáº£n lÃ½ dá»‹ch vá»¥
![Quáº£n lÃ½ dá»‹ch vá»¥](screenshots/dichvu.png)
*Giao diá»‡n quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ bá»• sung cá»§a khÃ¡ch sáº¡n*

### 13. Lá»‹ch sá»­ email
![Lá»‹ch sá»­ email](screenshots/lichsuemail.png)
*Theo dÃµi vÃ  quáº£n lÃ½ cÃ¡c email Ä‘Ã£ gá»­i tá»± Ä‘á»™ng*

### 14. Thanh toÃ¡n chÆ°a hoÃ n táº¥t
![Thanh toÃ¡n chÆ°a hoÃ n táº¥t](screenshots/thanhtoanchuahoantat.png)
*Danh sÃ¡ch cÃ¡c thanh toÃ¡n Ä‘ang pending hoáº·c chÆ°a hoÃ n táº¥t*

### YÃªu cáº§u há»‡ thá»‘ng
- **Python**: 3.8 hoáº·c cao hÆ¡n
- **MySQL**: 5.7 hoáº·c cao hÆ¡n
- **Git**: Äá»ƒ clone repository
- **Web Browser**: Chrome, Firefox, Safari, Edge

### 1. Clone repository
```bash
git clone https://github.com/keyznam-jpg/BTL-Internet.git
cd BTL-Internet
```

### 2. Táº¡o mÃ´i trÆ°á»ng áº£o (khuyáº¿n nghá»‹)
```bash
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/Mac
```

### 3. CÃ i Ä‘áº·t dependencies
```bash
pip install -r requirements.txt
```

### 4. Cáº¥u hÃ¬nh database
- Táº¡o database MySQL tÃªn `Internet`
- Import schema tá»« file `schema_internet.sql`:
```sql
mysql -u root -p Internet < schema_internet.sql
```

### 5. Cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng
Táº¡o file `.env` trong thÆ° má»¥c gá»‘c:
```env
# Database
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=your_password
MYSQL_DB=Internet

# Email SMTP (tÃ¹y chá»n)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
```

### 6. Cháº¡y á»©ng dá»¥ng
```bash
python app.py
```
Hoáº·c sá»­ dá»¥ng file batch (Windows):
```cmd
run.bat
```

á»¨ng dá»¥ng sáº½ cháº¡y táº¡i: `http://127.0.0.1:5000`

### 7. Backup database (khuyáº¿n nghá»‹)
```cmd
backup.bat
```

## ğŸ‘¤ TÃ i khoáº£n máº·c Ä‘á»‹nh

### Admin
- **Username**: `admin`
- **Password**: `admin`

### NhÃ¢n viÃªn máº«u
- **Username**: `nam`, **Password**: `123`
- **Username**: `hoang`, **Password**: `123`
- **Username**: `hung`, **Password**: `123`

## ğŸ”— API Endpoints chÃ­nh

### Authentication
- `GET/POST /login` - ÄÄƒng nháº­p há»‡ thá»‘ng
- `GET /logout` - ÄÄƒng xuáº¥t

### Dashboard
- `GET /dashboard` - Trang tá»•ng quan vá»›i thá»‘ng kÃª

### Quáº£n lÃ½ phÃ²ng
- `GET /so-do-phong` - SÆ¡ Ä‘á»“ phÃ²ng
- `GET/POST /dat-phong` - Äáº·t phÃ²ng offline
- `GET/POST /dat-phong-online` - Äáº·t phÃ²ng online
- `GET/POST /nhan-phong` - Nháº­n/tráº£ phÃ²ng

### Thanh toÃ¡n
- `GET /thanh-toan-chua-hoan-tat` - Danh sÃ¡ch thanh toÃ¡n pending
- `GET/POST /thanh-toan-dv/<id>` - Thanh toÃ¡n dá»‹ch vá»¥

### KhÃ¡ch hÃ ng & Giao tiáº¿p
- `GET /tin-nhan` - Quáº£n lÃ½ tin nháº¯n
- `GET /khach-hang` - Danh sÃ¡ch khÃ¡ch hÃ ng

### BÃ¡o cÃ¡o
- `GET /thong-ke-doanh-thu` - Thá»‘ng kÃª doanh thu
- `GET /thong-ke-khach` - Thá»‘ng kÃª khÃ¡ch hÃ ng

### Quáº£n lÃ½ nhÃ¢n viÃªn
- `GET/POST /attendance` - Cháº¥m cÃ´ng
- `GET /attendance/admin` - PhÃª duyá»‡t cháº¥m cÃ´ng
- `GET /nhan-vien` - Danh sÃ¡ch nhÃ¢n viÃªn
- `GET /luong-thuong` - Quáº£n lÃ½ lÆ°Æ¡ng thÆ°á»Ÿng

### CÃ i Ä‘áº·t
- `GET /cai-dat-email` - Cáº¥u hÃ¬nh email
- `GET /cai-dat-luong-thuong` - Cáº¥u hÃ¬nh lÆ°Æ¡ng thÆ°á»Ÿng

## ğŸ”’ Báº£o máº­t

- **Authentication**: Flask-Login vá»›i session management
- **Authorization**: Role-based access control (admin/nhanvien)
- **Input Validation**: Sanitize vÃ  validate táº¥t cáº£ user input
- **SQL Injection Protection**: SQLAlchemy parameterized queries
- **CSRF Protection**: Token validation cho forms
- **Rate Limiting**: Flask-Limiter chá»‘ng brute force
- **Session Security**: Timeout cho sensitive operations
- **File Upload Security**: Secure filename vÃ  type validation

## ğŸ“ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u táº¡i Há»c viá»‡n CÃ´ng nghá»‡ BÆ°u chÃ­nh Viá»…n thÃ´ng (PTIT).

## ğŸ“ LiÃªn há»‡

- **TÃ¡c giáº£**: HoÃ ng Anh Nam
- **TrÆ°á»ng**: Há»c viá»‡n CÃ´ng nghá»‡ BÆ°u chÃ­nh Viá»…n thÃ´ng (PTIT)
- **MÃ´n há»c**: Internet vÃ  Giao thá»©c
- **NÄƒm**: 2025
- **GitHub**: [https://github.com/keyznam-jpg]

---

*Há»‡ thá»‘ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ Ä‘Ã¡p á»©ng cÃ¡c yÃªu cáº§u quáº£n lÃ½ khÃ¡ch sáº¡n hiá»‡n Ä‘áº¡i vá»›i giao diá»‡n thÃ¢n thiá»‡n, báº£o máº­t cao vÃ  kháº£ nÄƒng má»Ÿ rá»™ng tá»‘t. Cáº£m Æ¡n báº¡n Ä‘Ã£ quan tÃ¢m Ä‘áº¿n dá»± Ã¡n!* ğŸš€