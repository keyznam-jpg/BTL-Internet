{% extends 'khach_hang_base.html' %}
{% set title = 'ÄÄƒng nháº­p khÃ¡ch hÃ ng' %}
{% set header_title = 'ÄÄƒng nháº­p khÃ¡ch hÃ ng thÃ¢n thiáº¿t' %}

{% block page_styles %}
    main .card {
      background: transparent;
      border: none;
      box-shadow: none;
      padding: 0;
    }
    .auth-shell {
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.82), rgba(241, 245, 249, 0.92));
      border-radius: 32px;
      padding: 42px 46px;
      box-shadow: 0 40px 70px -60px rgba(15, 118, 110, 0.8), 0 26px 60px -40px rgba(15, 23, 42, 0.45);
      display: grid;
      gap: 34px;
      position: relative;
      overflow: hidden;
    }
    .auth-shell::after {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at -10% 10%, rgba(20, 184, 166, 0.18), transparent 52%), radial-gradient(circle at 110% 0%, rgba(59, 130, 246, 0.18), transparent 45%);
      pointer-events: none;
    }
    .auth-shell > * {
      position: relative;
      z-index: 1;
    }
    .auth-header {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .auth-header span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 18px;
      border-radius: 999px;
      background: rgba(20, 184, 166, 0.12);
      color: var(--primary-700);
      font-weight: 600;
      width: fit-content;
    }
    .auth-title {
      margin: 0;
      font-size: clamp(1.8rem, 2vw + 1rem, 2.3rem);
      font-weight: 600;
      color: var(--text-900);
    }
    .auth-sub {
      margin: 0;
      font-size: 1rem;
      color: var(--text-500);
      max-width: 720px;
    }
    .auth-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.15fr) minmax(0, 0.9fr);
      gap: 28px;
      align-items: stretch;
    }
    .perks-panel {
      background: linear-gradient(160deg, rgba(15, 118, 110, 0.94), rgba(59, 130, 246, 0.82));
      color: #f8fafc;
      border-radius: 26px;
      padding: 36px;
      display: grid;
      gap: 26px;
      position: relative;
      overflow: hidden;
      isolation: isolate;
      box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.2);
    }
    .perks-panel::after {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.18), transparent 55%), radial-gradient(circle at 80% 80%, rgba(20, 184, 166, 0.28), transparent 45%);
      z-index: -1;
    }
    .perks-badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 16px;
      border-radius: 999px;
      background: rgba(15, 118, 110, 0.25);
      font-size: 0.88rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }
    .perks-panel h3 {
      margin: 0;
      font-size: clamp(1.9rem, 1.6vw + 1rem, 2.4rem);
      font-weight: 600;
      line-height: 1.25;
    }
    .perks-panel p {
      margin: 0;
      font-size: 1.02rem;
      color: rgba(241, 245, 249, 0.88);
      line-height: 1.7;
    }
    .perk-list {
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      gap: 14px;
    }
    .perk-list li {
      display: grid;
      grid-template-columns: 32px 1fr;
      gap: 12px;
      align-items: flex-start;
      font-size: 1rem;
      color: rgba(241, 245, 249, 0.85);
    }
    .perk-list li span {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: rgba(15, 118, 110, 0.28);
      display: grid;
      place-items: center;
      font-weight: 700;
      color: #f8fafc;
      font-size: 0.95rem;
    }
    .perks-footer {
      border-top: 1px solid rgba(248, 250, 252, 0.22);
      padding-top: 20px;
      font-size: 0.96rem;
      color: rgba(226, 232, 240, 0.8);
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
    }
    .perks-footer strong {
      color: #f8fafc;
    }
    .form-panel {
      background: rgba(255, 255, 255, 0.92);
      border-radius: 26px;
      padding: 38px 34px;
      border: 1px solid rgba(148, 163, 184, 0.18);
      display: grid;
      gap: 26px;
    }
    .form-panel h3 {
      margin: 0 0 6px;
      font-size: 1.8rem;
      color: var(--text-900);
    }
    .form-panel > p {
      margin: 0;
      color: var(--text-500);
      line-height: 1.6;
    }
    .form-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 16px;
      font-size: 0.95rem;
    }
    .remember-field {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: var(--text-500);
      cursor: pointer;
    }
    .remember-field input {
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 6px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: #fff;
      position: relative;
      transition: border-color 0.2s ease, background 0.2s ease;
    }
    .remember-field input:checked {
      background: var(--primary-700);
      border-color: var(--primary-700);
    }
    .remember-field input:checked::after {
      content: 'âœ”';
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      font-size: 0.72rem;
      color: #f8fafc;
    }
    .form-footer {
      display: grid;
      gap: 8px;
      font-size: 0.95rem;
      color: var(--text-500);
    }
    .form-footer a {
      color: var(--primary-700);
      text-decoration: none;
      font-weight: 600;
    }
    .form-footer a:hover {
      color: var(--primary-500);
    }
    .trust-row {
      display: flex;
      align-items: center;
      gap: 18px;
      flex-wrap: wrap;
      font-size: 0.9rem;
      color: var(--text-500);
    }
    .trust-row span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.12);
    }
    @media (max-width: 1100px) {
      .auth-layout {
        grid-template-columns: 1fr;
      }
      .perks-panel,
      .form-panel {
        padding: 32px 28px;
      }
    }
    @media (max-width: 640px) {
      .auth-shell {
        padding: 32px 24px;
      }
      .perks-panel {
        border-radius: 22px;
      }
      .form-panel {
        border-radius: 22px;
        padding: 28px 22px;
      }
      .perks-footer {
        flex-direction: column;
        align-items: flex-start;
      }
    }
{% endblock %}

{% block content %}
  <div class="auth-shell">
    <header class="auth-header">
      <span>ChÆ°Æ¡ng trÃ¬nh khÃ¡ch hÃ ng thÃ¢n thiáº¿t PTIT</span>
      <h2 class="auth-title">ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c hÃ nh trÃ¬nh lÆ°u trÃº cá»§a báº¡n</h2>
      <p class="auth-sub">
        Truy cáº­p tÃ i khoáº£n Ä‘á»ƒ quáº£n lÃ½ Ä‘áº·t phÃ²ng, tÃ­ch lÅ©y Ä‘iá»ƒm thÆ°á»Ÿng vÃ  má»Ÿ khÃ³a nhá»¯ng Æ°u Ä‘Ã£i cÃ¡ nhÃ¢n hÃ³a
        Ä‘Æ°á»£c thiáº¿t káº¿ riÃªng cho há»™i viÃªn thÃ¢n thiáº¿t.
      </p>
    </header>

    <div class="auth-layout">
      <section class="perks-panel">
        <div>
          <span class="perks-badge">KhÃ¡ch hÃ ng thÃ¢n thiáº¿t</span>
          <h3>ChÃ o má»«ng báº¡n quay láº¡i</h3>
          <p>
            Má»—i láº§n Ä‘Äƒng nháº­p lÃ  má»™t bÆ°á»›c tiáº¿n gáº§n hÆ¡n tá»›i Æ°u Ä‘Ã£i tiáº¿p theo. Giá»¯ káº¿t ná»‘i vá»›i khÃ¡ch sáº¡n Ä‘á»ƒ
            tráº£i nghiá»‡m dá»‹ch vá»¥ trá»n váº¹n, tá»« Ä‘áº·t phÃ²ng nhanh gá»n tá»›i chÄƒm sÃ³c táº­n tÃ¬nh 24/7.
          </p>
        </div>

        <ul class="perk-list">
          <li>
            <span>1</span>
            Theo dÃµi lá»‹ch sá»­ Ä‘áº·t phÃ²ng, hÃ³a Ä‘Æ¡n vÃ  tráº¡ng thÃ¡i thanh toÃ¡n tá»©c thá»i.
          </li>
          <li>
            <span>2</span>
            Tá»± Ä‘á»™ng tÃ­ch Ä‘iá»ƒm â€“ quy Ä‘á»•i voucher giáº£m giÃ¡ lÃªn Ä‘áº¿n 40% cho má»—i láº§n lÆ°u trÃº.
          </li>
          <li>
            <span>3</span>
            Chat trá»±c tiáº¿p vá»›i Ä‘á»™i ngÅ© lá»… tÃ¢n báº¥t cá»© lÃºc nÃ o báº¡n cáº§n há»— trá»£.
          </li>
        </ul>

        <div class="perks-footer">
          <span>Hotline há»— trá»£: <strong>{{ hotel_info.hotline if hotel_info and hotel_info.hotline else '028 8888 9999' }}</strong></span>
          <span>Æ¯u Ä‘Ã£i dÃ nh riÃªng cho há»™i viÃªn PTIT Loyalty</span>
        </div>
      </section>

      <section class="form-panel">
        <div>
          <h3>ÄÄƒng nháº­p tÃ i khoáº£n</h3>
          <p>Nháº­p CMND/CCCD hoáº·c email Ä‘Ã£ Ä‘Äƒng kÃ½ Ä‘á»ƒ tiáº¿p tá»¥c hÃ nh trÃ¬nh tráº£i nghiá»‡m táº¡i khÃ¡ch sáº¡n.</p>
        </div>

        {% if error %}
        <div class="alert danger">{{ error }}</div>
        {% endif %}

        <form method="post" class="form-stack" autocomplete="off">
          <label class="input-group">
            <span class="input-label">CMND/CCCD hoáº·c Email</span>
            <input type="text" name="ten_dang_nhap" required value="{{ form_username }}" class="input-field" placeholder="VÃ­ dá»¥: 012345678901 hoáº·c email@domain.cc">
          </label>

          <label class="input-group">
            <span class="input-label">Máº­t kháº©u</span>
            <input type="password" name="mat_khau" required class="input-field" placeholder="Nháº­p máº­t kháº©u cá»§a báº¡n">
          </label>

          <div class="form-meta">
            <label class="remember-field">
              <input type="checkbox" name="ghi_nho" value="1">
              Ghi nhá»› Ä‘Äƒng nháº­p
            </label>
            <a class="link-inline" href="{{ url_for('khach_hang_quen_mat_khau') }}">QuÃªn máº­t kháº©u?</a>
          </div>

          <button type="submit" class="button-primary">
            ÄÄƒng nháº­p
          </button>
        </form>

        <div class="form-footer">
          <span>Báº¡n chÆ°a cÃ³ tÃ i khoáº£n?</span>
          <a href="{{ url_for('khach_hang_dang_ky') }}">ÄÄƒng kÃ½ ngay Ä‘á»ƒ nháº­n Æ°u Ä‘Ã£i thÃ nh viÃªn</a>
        </div>

        <div class="trust-row">
          <span>ğŸ”’ Báº£o máº­t SSL</span>
          <span>â± 24/7 Há»— trá»£</span>
          <span>ğŸ’³ Thanh toÃ¡n an toÃ n</span>
        </div>
      </section>
    </div>
  </div>
{% endblock %}
